<?xml version="1.0" encoding="utf-8" ?>
<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/"
               xmlns:set="http://www.sitecore.net/xmlconfig/set/">
  <sitecore>
    <settings>
      <!-- Context DB for execution -->
      <setting name="SiteCronContextDB" value="master" />
      <!-- Amount of seconds to add to the execute now task. Please make sure the setting is above 5 seconds to give enough time for SiteCron to reload. -->
      <setting name="SiteCronExecuteNowSeconds" value="10" />
      <!-- Highly Experimental -->
      <setting name="SiteCron.SavedHandlerType" value="" />
    </settings>
    <commands>
      <command name="sitecron:executejob" type="Sitecron.Commands.ExecuteJob, Sitecron" />
    </commands>
    <events>
      <event name="item:saved">
        <handler type="Sitecron.Events.SitecronSavedHandler, Sitecron" method="OnItemSaved" resolve="true" />
      </event>
      <!--<event name="item:saved:remote">
        <handler type="Sitecron.Events.SitecronSavedHandler, Sitecron" method="OnItemSaved"/>
      </event>-->
      <event name="item:saving">
        <handler type="Sitecron.Events.SitecronSavingHandler, Sitecron" method="OnItemSaving"/>
      </event>
      <event name="item:deleted">
        <handler type="Sitecron.Events.SitecronDeletedHandler, Sitecron" method="OnItemDeleted" resolve="true" />
      </event>
      <!--<event name="item:deleted:remote">
        <handler type="Sitecron.Events.SitecronDeletedHandler, Sitecron" method="OnItemDeleted"/>
      </event>-->
    </events>
    <pipelines>
      <initialize>
        <processor type="Sitecron.Pipelines.Initialize.InitializeSitecron, Sitecron" resolve="true" />
      </initialize>
    </pipelines>
    <services>
      <register serviceType="Sitecron.IScheduleManager, Sitecron" implementationType="Sitecron.DefaultScheduleManager, Sitecron" />
      <register serviceType="Sitecron.Jobs.ISitecronJobProvider, Sitecron" implementationType="Sitecron.Jobs.InheritingDescendantsSitecronJobProvider, Sitecron" />
      <register serviceType="Sitecron.Jobs.ISitecronJobValidator, Sitecron" implementationType="Sitecron.Jobs.BasicSitecronJobValidator, Sitecron" />
      <register serviceType="Sitecron.Scheduling.ISitecronScheduler, Sitecron" implementationType="Sitecron.Scheduling.QuartzSitecronScheduler, Sitecron" />
    </services>
  </sitecore>
</configuration>